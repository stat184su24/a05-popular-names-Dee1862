---
title: 'Activity: Popular Names'
author: "Deekshith Reddy Bhoomireddy"
date: "July 19, 2024"
output:
  html_document:
    df_print: paged
  html_notebook: default
  pdf_document: default
---


# Grading

Assignment is worth a total of 10 points

* [1 point] Turn in BOTH RNotebook (.nb.html) and the RMarkdown (.Rmd) file to Canvas
* [1 point] Changes pushed to GitHub
* [1 point] Step 1: show how you used summary functions to explore the raw data set
* [1 point] Step 3 and 4: attempt to answer all questions about the data
* [1 point] Step 5: explanation of data wrangling steps in English (not code)
* [3 points] Step 7: Data wrangling
    * correct use of `filter()`
    * correct use of `group_by()`
    * correct use of `summarise()`
* [2 points] `ggplot()` graph of first names 



# Set Up

```{r, message = F, warning = F}
# load necessary packages
library(tidyverse)
library(mosaic)
library(esquisse)

devtools::install_github("mdbeckman/dcData")
library(dcData)

# Load the BabyNames data into RStudio environment (from dcData package)
data("BabyNames", package = "dcData")
```

# Activity

**Goal**: By the end of the activity, each team will create a graph (like Figure A.1 on p 159) showing ups and downs in the popularity of the names at your table according to the U.S. social security registry.  

For steps 5-7, pick any FIVE names you wish. I choose Arnaldo, Ahmid, Nicho, Jennaveve, and Christy. You may choose these names or any others that you would like. 


### Step 1

*Examine the data you have at hand - for this project the data are the ones available in the `BabyNames` data set. Use at least 2 different functions to examine your data. Then answer the questions: What are the variables are available? What is a case?*

##### What are the variables are available?
The variables are: name, sex, count (Total number of babies given that name and of that sex), year (year of birth).

##### What is a case?
A "case" refers to a specific, unique and similar unit of observation. In this dataset each baby name is a case. This dataset has totally 1792091 cases.
 
## Look at the data a few different ways (see Ch 9 for more).
```{r}

#First five rows of the dataset
head(BabyNames, n = 5)

#Summary of the dataset
summary(BabyNames)

#Last five rows of the dataset
tail(BabyNames, n = 5)

```

### Step 2

[This should be done by hand on paper, nothing to show in the HTML doc]


### Step 3 

##### What variable(s) from the raw data table do not appear at all in the graph?
The variable "sex" does not appear at all in the graph.

##### What variable(s) in the graph are similar to corresponding variables in the raw data table, but might have been transformed in some way?
The variable "name", "year", and "popularity" are used in the graph. Variables "name" and "year" are used as raw data, without being transformed in some way. However, the "count" variable in the raw data is transformed to the "popularity" variable in the graph. Moreover, the "sex" variable from the raw data is not used in the graph. 


### Step 4

##### Have cases been filtered out?
In the graph the cases have been filtered out to three names (Abraham, Franklin and Woodrow) which are displayed above the graph.


##### Have cases been grouped and summarized within groups in any way?
In the graph the cases have been grouped accordingly by name and year, and summarized to get the total number of births  recorded for each of the names per year.


##### Have any new variables been introduced?  If so, what the relationship between the new variables and existing variables?
The variable "popularity" has been newly introduced and was derived from the "count" variable in raw data. The "popularity" variable is derived by finding a sum of the total number of births per name and year (which can be derived from grouping and summarizing the "count" variable.)


### Step 5
Using the BabyNames data set, filter the data to display just the 5 names that you picked.  Then group the cases by year and name, and count how many total births per year were recorded for each of the names (regardless of sex).  

1. Select the five names and create a list of them in "new_names"

2. Create a new variable named "new_data" to store the below functions.

3. Use "filter()" to filter the BabyNames dataset for only those five names you picked in step 1.

4. Use "group_by()" function to group by the output data you got by filtering the five names according to "name" and "year" level.

5. Use "summarize()" function after the "group_by" function to get the total number of births recorded for every selected names per year on the grouped by data.

6. Use "view()" to view the "new_data"


### Step 6

[This should be done by hand on paper, nothing to show in the HTML doc]

### Step 7
#### Create my glyph ready data set here
```{r}
#Created a list of five names and stored them under the variable name "new_names".
new_names <- c("Emma", "Mabel", "Allie", "Virgie", "Lynford")

#Created a variable called "new_data" to perform the new functions and store the latest data.
GlyphReadyForm <-
  BabyNames %>%
  filter(name %in% new_names) %>%
  group_by(name, year) %>%
  summarize(total = sum(count, na.rm = TRUE))

view(GlyphReadyForm)


```


### Graph It!

Here's the sample code provided by the book:

```{r}
GlyphReadyForm %>%
  ggplot(aes(x = year, y = total, group = name)) + 
  geom_line(size = 1, alpha = 0.5, aes(color = name)) + 
  ylab("Popularity") + 
  xlab("Year") +
  ggtitle("Popularity of Names Over Time")
```

If you prepared your `GlyphReadyForm` data set correctly, you should just be able to copy and paste this code. Alternatively, you can use `mplot` or `esquisse` to create your graph. If you choose to use these interactive functions remember, do not include the `mplot` or `esquisse` functions in your RMarkdown document. Instead, use these functions in the console and copy the generated code into your RMarkkdown document. In addition, we want lines, not dots.

```{r}
#Used the "GlyphReadyForm" dataset to create this graph.
GlyphReadyForm %>%
  ggplot(aes(x = year, y = total, group = name)) + 
  geom_point(size = 1, alpha = 0.5, aes(color = name)) + 
  ylab("Popularity") + 
  xlab("Year") +
  ggtitle("Popularity of Names Over Time")


```




